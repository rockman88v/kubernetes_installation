#link github: https://github.com/kubernetes-sigs/metrics-server

#fix issue
REF https://github.com/kubernetes-sigs/metrics-server/issues/448
Current workaround is to edit /etc/kubernetes/manifests/kube-apiserver.yaml

keep this as default:
--enable-aggregator-routing = true

Wait for kube-apiserver to be auto-restarted

# Install Metrics Server with helm
helm repo add metrics-server https://kubernetes-sigs.github.io/metrics-server/
helm search repo metrics-server
helm pull metrics-server/metrics-server --version 3.8.2
tar -xzf metrics-server-3.8.2.tgz
helm install metric-server metrics-server -n kube-system

#edit Metrics Server Deployment
kubectl -n kube-system edit deploy metric-server-metrics-server

#change args as below:
- args:
  - --secure-port=4443
  - --cert-dir=/tmp
  - --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname
  - --kubelet-insecure-tls=true
  - --kubelet-use-node-status-port
  - --metric-resolution=15s
image: k8s.gcr.io/metrics-server/metrics-server:v0.6.1
imagePullPolicy: IfNotPresent
